call main
halt
main:
push_stack_frame 5
int_const r0, 0
store 0, r0
store 1, r0
store 2, r0
store 3, r0
store 4, r0
string_const r0, "Input two positive integers: "
call_builtin print_string
call_builtin read_int
store 0, r0
call_builtin read_int
store 1, r0
string_const r0, "\n"
call_builtin print_string
load r0, 0
load r1, 1
cmp_lt_int r0, r0, r1
branch_on_false r0, label_1
load r0, 0
store 2, r0
load r0, 1
store 0, r0
load r0, 2
store 1, r0
label_1:
string_const r0, "The gcd of "
call_builtin print_string
load r0, 0
call_builtin print_int
string_const r0, " and "
call_builtin print_string
load r0, 1
call_builtin print_int
string_const r0, " is "
call_builtin print_string
load r0, 0
load r1, 1
div_int r0, r0, r1
store 3, r0
load r0, 0
load r1, 3
load r2, 1
mul_int r1, r1, r2
sub_int r0, r0, r1
store 4, r0
label_2:
load r1, 4
int_const r2, 0
cmp_gt_int r1, r1, r2
branch_on_false r0, label_3
load r0, 1
store 0, r0
load r0, 4
store 1, r0
load r0, 0
load r1, 1
div_int r0, r0, r1
store 3, r0
load r0, 0
load r1, 3
load r2, 1
mul_int r1, r1, r2
sub_int r0, r0, r1
store 4, r0
branch_uncond label_2
label_3:
load r0, 1
call_builtin print_int
string_const r0, "\n"
call_builtin print_string
pop_stack_frame 5
return